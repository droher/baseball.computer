version: 2


models:
  - name: stg_games
    description: ""


    config:
      contract:
        enforced: true

    constraints:
      - type: primary_key
        columns: [game_id]

    columns:
      - name: game_id
        description: ""
        data_type: varchar
      - name: game_key
        description: ""
        data_type: uinteger
        constraints:
          - type: not_null
        # TODO: Change to constraint after fix
        tests:
          - unique
      - name: date
        description: ""
        data_type: date
        constraints:
          - type: not_null
      - name: start_time
        description: ""
        data_type: timestamp
      - name: doubleheader_status
        description: ""
        data_type: doubleheader_status
        constraints:
          - type: not_null
      - name: time_of_day
        description: ""
        data_type: time_of_day
        constraints:
          - type: not_null
      - name: game_type
        description: ""
        data_type: game_type
        constraints:
          - type: not_null
      - name: bat_first_side
        description: ""
        data_type: side
        constraints:
          - type: not_null
      - name: sky
        description: ""
        data_type: sky
        constraints:
          - type: not_null
      - name: field_condition
        description: ""
        data_type: field_condition
        constraints:
          - type: not_null
      - name: precipitation
        description: ""
        data_type: precipitation
        constraints:
          - type: not_null
      - name: wind_direction
        description: ""
        data_type: wind_direction
        constraints:
          - type: not_null
      - name: park_id
        description: ""
        data_type: park_id
        tests:
          - relationships:
              field: park_id
              to: ref('stg_parks')
          - not_null:
              config:
                severity: warn
      - name: temperature_fahrenheit
        description: ""
        data_type: tinyint
      - name: attendance
        description: ""
        data_type: bigint
      - name: wind_speed_mph
        description: ""
        data_type: smallint
      - name: use_dh
        description: ""
        data_type: boolean
        constraints:
          - type: not_null
      - name: winning_pitcher_id
        description: ""
        data_type: varchar
      - name: losing_pitcher_id
        description: ""
        data_type: varchar
      - name: save_pitcher_id
        description: ""
        data_type: varchar
      - name: game_winning_rbi_player_id
        description: ""
        data_type: varchar
      - name: duration_minutes
        description: ""
        data_type: bigint
      - name: protest_info
        description: ""
        data_type: integer
      - name: completion_info
        description: ""
        data_type: integer
      - name: scorer
        description: ""
        data_type: varchar
      - name: scoring_method
        description: ""
        data_type: varchar
      - name: inputter
        description: ""
        data_type: varchar
      - name: translator
        description: ""
        data_type: varchar
      - name: date_inputted
        description: ""
        data_type: timestamp
      - name: date_edited
        description: ""
        data_type: integer
      - name: account_type
        description: ""
        data_type: account_type
        constraints:
          - type: not_null
      - name: filename
        description: ""
        data_type: varchar
        constraints:
          - type: not_null
      - name: source_type
        description: ""
        data_type: varchar
        constraints:
          - type: not_null
      - name: away_team_id
        description: ""
        data_type: team_id
        constraints:
          - type: not_null
      - name: home_team_id
        description: ""
        data_type: team_id
        constraints:
          - type: not_null
      - name: umpire_home_id
        description: ""
        data_type: varchar
      - name: umpire_first_id
        description: ""
        data_type: varchar
      - name: umpire_second_id
        description: ""
        data_type: varchar
      - name: umpire_third_id
        description: ""
        data_type: varchar
      - name: umpire_left_id
        description: ""
        data_type: varchar
      - name: umpire_right_id
        description: ""
        data_type: varchar
      - name: season
        description: ""
        data_type: smallint
        constraints:
          - type: not_null
